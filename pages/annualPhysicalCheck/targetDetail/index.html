<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>指标详情</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>
<div class="target-detail-container">
    <div class="left-operation-container">
        <div class="layer-list">
            <span class="operation-icon layer-normal"></span>
            图层列表
        </div>
        <div class="operation-list">
            <div class="operation ecology ecology-checked">
                <span class="operation-icon"></span>
                <span class="operation-text">生态宜居</span>
            </div>
            <div class="operation health">
                <span class="operation-icon"></span>
                <span class="operation-text">健康舒适</span>
            </div>
            <div class="operation safety">
                <span class="operation-icon"></span>
                <span class="operation-text">安全韧性</span>
            </div>
            <div class="operation traffic">
                <span class="operation-icon"></span>
                <span class="operation-text">交通便捷</span>
            </div>
            <div class="operation scene">
                <span class="operation-icon"></span>
                <span class="operation-text">风貌特色</span>
            </div>
            <div class="operation tidy">
                <span class="operation-icon"></span>
                <span class="operation-text ">整洁有序</span>
            </div>
            <div class="operation diversity">
                <span class="operation-icon"></span>
                <span class="operation-text">多元包容</span>
            </div>
            <div class="operation innovation">
                <span class="operation-icon"></span>
                <span class="operation-text">创新活力</span>
            </div>
        </div>
    </div>
    <div class="middle-map-container">
        <h1>高德地图</h1>
    </div>
    <div class="right-data-chart-container">
        <div class="data-chart-container">
            <div class="left-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">区域开发强度</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content region-develop-pie-chart"></div>
            </div>
            <div class="right-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">组团规模</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content region-group-detail">
                    <div class="region-item">
                        <div class="region-name">阎良区</div>
                        <div class="region-area">
                            <span class="region-area-number">36.49</span>
                            平方公里
                        </div>
                    </div>
                    <div class="region-item">
                        <div class="region-name">阎良区</div>
                        <div class="region-area">
                            <span class="region-area-number">36.49</span>
                            平方公里
                        </div>
                    </div>
                    <div class="region-item">
                        <div class="region-name">阎良区</div>
                        <div class="region-area">
                            <span class="region-area-number">36.49</span>
                            平方公里
                        </div>
                    </div>

                </div>

            </div>
        </div>
        <div class="data-chart-container">
            <div class="left-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">人口密度超过每平方公里1.5...</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content population-density">
                    <div class="population-density-number">52</div>
                    <div class="population-density-unit">平方公里</div>
                </div>
            </div>
            <div class="right-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">新建住宅建筑高度超过80米...</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content new-building">
                    <div class="new-building-number">409</div>
                    <div class="new-building-unit">栋</div>
                </div>
            </div>
        </div>
        <div class="data-chart-container">
            <div class="left-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">城市生态廊道达标率</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content city-ecology-pie-chart"></div>
            </div>
            <div class="right-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">单位GDP二氧化碳排放降低</span>
                    <span class="chart-title-icon"></span>
                </div>
                <div class="chart-content unit-gdp-co2-pie-chart"></div>
            </div>
        </div>
        <div class="data-chart-container">
            <div class="left-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">新建筑中绿色建筑占比</span>
                    <span class="chart-title-icon "></span>
                </div>
                <div class="chart-content green-building-pie-chart"></div>
            </div>
            <div class="right-chart-content">
                <div class="chart-title">
                    <span class="chart-title-text">城市绿道服务半径覆盖率</span>
                    <span class="chart-title-icon "></span>
                </div>
                <div class="chart-content green-service-pie-chart"></div>
            </div>
        </div>


    </div>
</div>

</body>
<script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.3.3/echarts.common.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts-liquidfill@3.1.0/dist/echarts-liquidfill.min.js"></script>
<script>
    const regionDevelopChartDom = document.querySelector('.region-develop-pie-chart');
    const cityEcologyChartDom = document.querySelector('.city-ecology-pie-chart');
    const unitGdpCo2ChartDom = document.querySelector('.unit-gdp-co2-pie-chart');
    const greenBuildingChartDom = document.querySelector('.green-building-pie-chart');
    const greenServiceChartDom = document.querySelector('.green-service-pie-chart');

    const regionDevelopChart = echarts.init(regionDevelopChartDom);
    const cityEcologyChart = echarts.init(cityEcologyChartDom);
    const unitGdpCo2Chart = echarts.init(unitGdpCo2ChartDom);
    const greenBuildingChart = echarts.init(greenBuildingChartDom);
    const greenServiceChart = echarts.init(greenServiceChartDom);


    const unitGdpCo2Option = {
        series: [{
            type: 'liquidFill',
            radius: 112,
            data: [0.4],
            outline: {
                show: true,
                borderDistance: 0,
                itemStyle: {
                    opacity: 1,
                    borderWidth: 4,
                    shadowBlur: 1,
                    shadowColor: '#fff',
                    borderColor: '#86C4CA'
                },
            },
            color: ['#86C4CA'],
            backgroundStyle: {
              color: '#FFF'
            },
            itemStyle: {
                opacity: 0.6,
            },
            emphasis: {
                itemStyle: {
                    opacity: 0.7
                }
            },
            label: {
                position: ['50%', '50%'],
                // formatter: function() {
                //     return 'ECharts\nLiquid Fill';
                // },
                fontFamily: 'DIN',
                fontStyle: 'normal',
                fontWeight: 500,
                lineHeight: 34,
                fontSize: 28,
                color: '#4F4F4F'
            }
        }]
    };

    const commonChartOption = {
        emphasis: {
            disabled: true
        },
        series: [
            {
                name: 'region',
                type: 'pie',
                radius: ['90%', '100%'],
                avoidLabelOverlap: false,
            }
        ]


    };

    const regionDevelopData =  [
            {
                value: 16.99,
                name: `16.99%`,
                label: {
                    show: true,
                    fontFamily: 'DIN',
                    fontStyle: 'normal',
                    fontWeight: 500,
                    lineHeight: 34,
                    fontSize: 28,
                    color: '#4F4F4F',
                    position: 'center'
                },
                itemStyle: {
                    color: '#FFCF84',
                    borderRadius: 30,
                    borderColor: '#fff',
                    borderWidth: 2
                }
            },
            {
                value: 83.01,
                name: `83.01%`,
                label: {
                    show: false,
                },
                itemStyle: {
                    color: '#DBAA78',
                    borderRadius: 30,
                    borderColor: '#fff',
                    borderWidth: 2
                }
            }
        ];
    const cityEcologyData = [
        {
            value: 100,
            name: `100%`,
            label: {
                show: true,
                fontFamily: 'DIN',
                fontStyle: 'normal',
                fontWeight: 500,
                lineHeight: 34,
                fontSize: 28,
                color: '#4F4F4F',
                position: 'center'
            },
            itemStyle: {
                color: '#FFCF84',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2
            }
        },
        {
            value: 0,
            name: `0%`,
            label: {
                show: false,
            },
            itemStyle: {
                color: '#DBAA78',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2
            }
        },
    ]
    const greenBuildingData = [
        {
            value: 53.48,
            name: `53.48%`,
            label: {
                show: true,
                fontFamily: 'DIN',
                fontStyle: 'normal',
                fontWeight: 500,
                lineHeight: 34,
                fontSize: 28,
                color: '#4F4F4F',
                position: 'center'
            },
            itemStyle: {
                color: '#FFCF84',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2
            }
        },
        {
            value: 46.52,
            name: `46.52%`,
            label: {
                show: false,
            },
            itemStyle: {
                color: '#DBAA78',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2
            }
        },
    ]
    const greenServiceData = [
        {
            value: 57.27,
            name: `57.27%`,
            label: {
                show: true,
                fontFamily: 'DIN',
                fontStyle: 'normal',
                fontWeight: 500,
                lineHeight: 34,
                fontSize: 28,
                color: '#4F4F4F',
                position: 'center'
            },
            itemStyle: {
                color: '#FFCF84',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2,
            }
        },
        {
            value: 42.73,
            name: `42.73%`,
            label: {
                show: false,
            },
            itemStyle: {
                color: '#DBAA78',
                borderRadius: 30,
                borderColor: '#fff',
                borderWidth: 2
            }
        },
    ]


    regionDevelopChart.setOption({...commonChartOption, series: [{...commonChartOption.series[0], data: regionDevelopData}]});
    cityEcologyChart.setOption({...commonChartOption, series: [{...commonChartOption.series[0], data: cityEcologyData}]});
    unitGdpCo2Chart.setOption(unitGdpCo2Option);
    greenBuildingChart.setOption({...commonChartOption, series: [{...commonChartOption.series[0], data: greenBuildingData}]});
    greenServiceChart.setOption({...commonChartOption, series: [{...commonChartOption.series[0], data: greenServiceData}]});

</script>
<script>

    let opertionCheckedClass = 'ecology-checked';

    const operationList = Array.from(document.querySelectorAll('.operation'));
    operationList.forEach(operation => {
        operation.addEventListener('click', operationIconChecked)
    });


    function operationIconChecked(e) {
        const target = e.currentTarget;
        const targetClassList = target.classList;

        operationList.forEach(operation => {
            const classList = operation.classList;
            if (classList.contains(opertionCheckedClass)) {
                classList.remove(opertionCheckedClass);
            }
        });

        const checkedClass = `${targetClassList[1]}-checked`;
        targetClassList.add(checkedClass);
        opertionCheckedClass = checkedClass;
    }
</script>

</html>